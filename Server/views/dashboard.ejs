<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctor Research Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Universal Box-Sizing */
        * {
            box-sizing: border-box;
        }

        /* Body and Overall Layout */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to bottom right, #e0f7fa, #bbdefb); /* Lighter, softer gradient */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            color: #2c3e50; /* Darker, professional text color */
            line-height: 1.6; /* Improved readability */
        }

        /* Main Container for Dashboard Content */
        .container {
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            padding: 25px; /* Slightly increased padding */
            flex-grow: 1; /* Allows main content to grow */
        }

        /* Header */
        .main-header {
            background: linear-gradient(to right, #1a237e, #283593); /* Deeper, richer blue */
            color: #ffffff;
            padding: 1.5rem; /* Increased padding */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* More pronounced shadow */
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap; /* Allow wrapping on small screens */
        }

        .dashboard-title {
            font-size: 2rem; /* Larger title */
            font-weight: 700;
            letter-spacing: -0.5px; /* Tighter letter spacing */
            margin-bottom: 0; /* Reset margin for flex layout */
        }

        @media (max-width: 767px) {
            .dashboard-title {
                width: 100%; /* Full width on mobile */
                text-align: center;
                margin-bottom: 1rem;
            }
        }

        .profile-area {
            position: relative;
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-left: auto; /* Push to right on desktop */
        }

        @media (max-width: 767px) {
            .profile-area {
                width: 100%; /* Full width on mobile */
                justify-content: center; /* Center on mobile */
                margin-left: 0;
            }
        }

        .profile-img-container {
            position: relative;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .profile-img {
            width: 4.5rem; /* Slightly larger image */
            height: 4.5rem;
            border-radius: 9999px;
            border: 3px solid #e3f2fd; /* Lighter border */
            object-fit: cover;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        }

        .profile-name {
            font-size: 1.35rem; /* Slightly larger name */
            font-weight: 600;
            margin-left: 0.75rem;
            display: none; /* Hidden by default, shown on larger screens */
        }

        @media (min-width: 768px) {
            .profile-name {
                display: inline-block;
            }
        }

        /* Dropdown Menu */
        .dropdown-menu {
            display: none;
            position: absolute;
            right: 0;
            background-color: #fff;
            min-width: 200px; /* Wider dropdown */
            box-shadow: 0px 10px 20px rgba(0,0,0,0.2); /* Softer, larger shadow */
            z-index: 10;
            border-radius: 12px; /* Smoother corners */
            overflow: hidden;
            top: calc(100% + 1rem); /* More space from header */
            animation: fadeInScale 0.3s ease-out forwards;
            border: 1px solid #e0e0e0; /* Subtle border */
        }

        @media (max-width: 767px) {
            .dropdown-menu {
                left: 50%; /* Center on mobile */
                transform: translateX(-50%); /* Center on mobile */
                min-width: 80%; /* Wider on mobile */
            }
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-item {
            padding: 1rem 1.5rem; /* More padding */
            text-decoration: none;
            display: flex;
            align-items: center;
            color: #424242; /* Darker text */
            font-weight: 500;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .dropdown-item:hover {
            background-color: #e3f2fd; /* Light blue hover */
            color: #1a237e; /* Dark blue text on hover */
        }

        .dropdown-item svg {
            flex-shrink: 0;
            margin-right: 0.8rem; /* More spacing */
            color: #757575; /* Grayer icon */
            width: 1rem; /* Smaller icon size */
            height: 1rem; /* Smaller icon size */
        }

        .logout-button {
            background-color: #ffebee; /* Light red */
            color: #d32f2f; /* Dark red */
        }

        .logout-button:hover {
            background-color: #ffcdd2; /* Slightly darker red */
            color: #c62828;
        }

        .dropdown-divider {
            border-color: #f0f0f0;
            margin: 0.5rem 0;
        }

        /* Dashboard Grid Layout */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr; /* Single column on mobile */
            gap: 2.5rem; /* Increased gap */
            padding: 1.5rem 0;
        }

        @media (min-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr 2fr; /* Two columns on desktop */
            }
            .sidebar {
                grid-column: 1 / 2;
            }
            .main-dashboard-content {
                grid-column: 2 / 4;
            }
        }

        /* Card Styling */
        .card {
            background: #ffffff;
            border-radius: 20px; /* Increased border-radius */
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); /* Refined shadow */
            padding: 40px; /* Increased padding */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            border: 1px solid #e0e0e0;
        }

        @media (max-width: 767px) {
            .card {
                padding: 25px; /* Reduced padding on mobile */
                border-radius: 15px; /* Slightly smaller radius on mobile */
            }
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .section-title {
            font-size: 2rem; /* Larger font size */
            font-weight: 700;
            color: #1a237e;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
        }

        @media (max-width: 767px) {
            .section-title {
                font-size: 1.6rem; /* Smaller title on mobile */
                margin-bottom: 20px;
            }
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(to right, #2196f3, #1976d2); /* More vibrant gradient */
            border-radius: 5px;
        }

        .section-title .icon-margin {
            margin-right: 0.8rem;
            color: #1976d2;
            width: 1rem;
            height: 1rem;
        }

        /* Sidebar */
        .sidebar-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1a237e;
            margin-bottom: 25px;
            text-align: center;
            position: relative;
        }

        @media (max-width: 767px) {
            .sidebar-title {
                font-size: 1.3rem;
                margin-bottom: 20px;
            }
        }

        .sidebar-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 2px;
            background: #42a5f5;
            border-radius: 5px;
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .nav-link {
            display: block;
            padding: 16px; /* Increased padding */
            border-radius: 12px; /* Increased border-radius */
            color: #424242;
            font-weight: 600;
            transition: background 0.3s ease, color 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
            display: flex;
            align-items: center;
            text-decoration: none;
            box-shadow: 0 4px 8px rgba(0,0,0,0.08); /* Adjusted shadow */
        }

        @media (max-width: 767px) {
            .nav-link {
                padding: 12px; /* Reduced padding on mobile */
                font-size: 0.95rem;
            }
        }

        .nav-link:hover {
            background-color: #42a5f5;
            color: #ffffff;
            transform: translateX(8px);
            box-shadow: 0 6px 15px rgba(66, 165, 245, 0.5); /* Refined hover shadow */
        }

        .nav-link svg {
            flex-shrink: 0;
            margin-right: 0.75rem;
            width: 1rem;
            height: 1rem;
        }

        /* Welcome Card */
        .welcome-card {
            padding: 50px; /* Increased padding */
            text-align: center;
            background: linear-gradient(to right, #1976d2, #2196f3);
            color: #ffffff;
            overflow: hidden;
            position: relative;
            border-radius: 16px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            border: none;
        }

        @media (max-width: 767px) {
            .welcome-card {
                padding: 30px; /* Reduced padding on mobile */
            }
        }

        .welcome-text {
            font-size: 3.2rem; /* Larger welcome text */
            font-weight: 800;
            margin-bottom: 0.75rem;
            line-height: 1.2;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }

        @media (max-width: 767px) {
            .welcome-text {
                font-size: 2.2rem; /* Smaller text on mobile */
            }
        }

        .welcome-subtext {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.4rem; /* Larger subtext */
        }

        @media (max-width: 767px) {
            .welcome-subtext {
                font-size: 1.1rem; /* Smaller subtext on mobile */
            }
        }

        .welcome-overlay-1,
        .welcome-overlay-2 {
            position: absolute;
            background-color: #ffffff;
            opacity: 0.1; /* Slightly more visible */
            border-radius: 9999px;
            filter: blur(2.5rem);
            transform: scale(1.6);
        }

        .welcome-overlay-1 {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            clip-path: circle(55% at 85% 15%);
        }

        .welcome-overlay-2 {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            clip-path: circle(35% at 15% 80%);
        }

        /* Profile Photo Section */
        .profile-photo-section {
            padding: 35px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .profile-photo-wrapper {
            position: relative;
            width: 11rem;
            height: 11rem;
            margin-bottom: 1.5rem;
        }

        @media (max-width: 767px) {
            .profile-photo-wrapper {
                width: 9rem; /* Smaller photo on mobile */
                height: 9rem;
            }
        }

        .profile-photo {
            width: 100%;
            height: 100%;
            border-radius: 9999px;
            object-fit: cover;
            border: 6px solid #90caf9; /* Lighter blue border */
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .change-photo-btn {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background-color: #1976d2;
            color: #ffffff;
            border-radius: 9999px;
            padding: 0.85rem; /* Larger button */
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25); /* Stronger shadow */
            transition: background-color 0.2s ease, transform 0.2s ease;
            border: none;
            cursor: pointer;
        }
        
        .change-photo-btn svg {
            width: 1.1rem; /* Adjusted icon size */
            height: 1.1rem; /* Adjusted icon size */
        }

        @media (max-width: 767px) {
            .change-photo-btn {
                padding: 0.6rem; /* Smaller button on mobile */
            }
            .change-photo-btn svg {
                width: 0.9rem;
                height: 0.9rem;
            }
        }

        .change-photo-btn:hover {
            background-color: #1565c0;
            transform: scale(1.1);
        }

        .upload-photo-label {
            cursor: pointer;
            color: #1976d2;
            font-weight: 600;
            text-decoration: none;
            transition: text-decoration 0.2s ease, color 0.2s ease;
        }

        .upload-photo-label:hover {
            text-decoration: underline;
            color: #1565c0;
        }

        /* User Information Section */
        .user-info-section {
            padding: 35px;
        }

        .info-card-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.25rem;
            color: #424242;
        }

        @media (min-width: 768px) {
            .info-card-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .info-card {
            background-color: #fcfcfc;
            border-radius: 10px;
            padding: 1.75rem; /* Increased padding */
            display: flex;
            align-items: center;
            gap: 1.25rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
            border: 1px solid #f0f0f0;
        }

        @media (max-width: 767px) {
            .info-card {
                padding: 1.25rem; /* Reduced padding on mobile */
                font-size: 0.95rem;
            }
        }

        .info-card:hover {
            background-color: #e3f2fd;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .info-card-icon {
            color: #1976d2;
            flex-shrink: 0;
            width: 1.1rem;
            height: 1.1rem;
            font-size: 1.1rem;
        }

        @media (max-width: 767px) {
            .info-card-icon {
                width: 1rem;
                height: 1rem;
                font-size: 1rem;
            }
        }

        .info-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: #616161;
        }

        .info-value {
            font-weight: 500;
            font-size: 1.15rem;
            color: #212121;
        }

        @media (max-width: 767px) {
            .info-label {
                font-size: 0.85rem;
            }
            .info-value {
                font-size: 1rem;
            }
        }

        /* Statistics Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.75rem;
        }

        @media (min-width: 640px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .stats-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .stats-card {
            padding: 35px;
            text-align: center;
        }

        @media (max-width: 767px) {
            .stats-card {
                padding: 25px;
            }
        }

        .stats-label {
            color: #616161;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        @media (max-width: 767px) {
            .stats-label {
                font-size: 0.85rem;
            }
        }

        .stats-number {
            font-size: 4rem; /* Larger numbers */
            font-weight: 800;
            color: #1976d2;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        @media (max-width: 767px) {
            .stats-number {
                font-size: 2.8rem; /* Smaller numbers on mobile */
            }
        }

        #publishedPapers {
            color: #1976d2;
        }
        #totalCitations {
            color: #388e3c;
        }
        #activeCollaborations {
            color: #ffa000;
        }

        /* Quick Actions Section */
        .quick-actions-section {
            padding: 35px;
        }

        .quick-actions-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.25rem;
        }

        @media (min-width: 640px) {
            .quick-actions-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .action-button {
            font-weight: 600;
            padding: 18px; /* Larger padding */
            border-radius: 10px;
            transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transform: scale(1);
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        @media (max-width: 767px) {
            .action-button {
                padding: 14px; /* Reduced padding on mobile */
                font-size: 0.95rem;
            }
        }

        .action-button:hover {
            transform: scale(1.03);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .action-button .icon-margin {
            margin-right: 0.75rem;
            width: 1.1rem;
            height: 1.1rem;
            font-size: 1.1rem;
        }

        @media (max-width: 767px) {
            .action-button .icon-margin {
                width: 1rem;
                height: 1rem;
                font-size: 1rem;
            }
        }

        .primary-button {
            background-color: #1976d2;
        }
        .primary-button:hover {
            background-color: #1565c0;
        }

        .secondary-button {
            background-color: #388e3c;
        }
        .secondary-button:hover {
            background-color: #2e7d32;
        }

        .accent-button {
            background-color: #6a1b9a;
        }
        .accent-button:hover {
            background-color: #4a148c;
        }

        .warning-button {
            background-color: #fbc02d;
            color: #333;
        }
        .warning-button:hover {
            background-color: #f9a825;
        }

        /* Recent Research Activity Section */
        .recent-activity-section {
            padding: 35px;
        }

        .activity-message {
            color: #424242;
            margin-bottom: 1.25rem;
            font-size: 1.05rem;
        }

        @media (max-width: 767px) {
            .activity-message {
                font-size: 0.95rem;
            }
        }

        .view-all-link {
            display: inline-flex;
            align-items: center;
            color: #1976d2;
            text-decoration: none;
            font-weight: 600;
            background-color: #e3f2fd;
            padding: 14px 22px; /* Increased padding */
            border-radius: 8px;
            transition: background-color 0.2s ease, text-decoration 0.2s ease, color 0.2s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        @media (max-width: 767px) {
            .view-all-link {
                padding: 10px 18px; /* Reduced padding on mobile */
                font-size: 0.9rem;
            }
        }

        .view-all-link:hover {
            background-color: #bbdefb;
            text-decoration: underline;
            color: #1565c0;
        }

        .view-all-link .inline-icon {
            margin-left: 0.5rem;
            width: 1rem;
            height: 1rem;
            font-size: 1rem;
        }

        @media (max-width: 767px) {
            .view-all-link .inline-icon {
                width: 0.8rem;
                height: 0.8rem;
                font-size: 0.8rem;
            }
        }

        /* Footer */
        .main-footer {
            background-color: #263238;
            color: #ffffff;
            padding: 1.5rem; /* Increased padding */
            text-align: center;
            margin-top: auto;
            font-size: 1rem; /* Slightly larger font size */
        }

        @media (max-width: 767px) {
            .main-footer {
                padding: 1rem;
                font-size: 0.85rem;
            }
        }

        /* Animations */
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.95) translateY(-10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="container header-content">
            <h1 class="dashboard-title">DocConnect Research</h1>
            <div class="profile-area">
                <div class="profile-img-container" id="profileDropdownToggle">
                    <img src="<%= user.profilePicture || 'https://placehold.co/60x60/f0f9ff/0f172a?text=Dr' %>" alt="Doctor's Profile" class="profile-img">
                    <span class="profile-name">Dr. <%= user.name || 'Researcher' %></span>
                </div>
                
                <div id="profileDropdownMenu" class="dropdown-menu">
                    <a href="#" class="dropdown-item">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mr-3 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                        View Profile
                    </a>
                    <a href="#" class="dropdown-item">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mr-3 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                        Edit Profile
                    </a>
                    <hr class="dropdown-divider">
                    <button id="logoutButton" class="dropdown-item logout-button">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                        </svg>
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content container">
        <div class="dashboard-grid">
            <aside class="sidebar card">
                <h2 class="sidebar-title">Navigation</h2>
                <nav class="sidebar-nav">
                    <a href="#" class="nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m0 0l-7 7m7-7v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                        </svg>
                        Dashboard Home
                    </a>
                    <a href="#" class="nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                        </svg>
                        My Publications
                    </a>
                    <a href="#" class="nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                        </svg>
                        Journals
                    </a>
                    <a href="#" class="nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                        </svg>
                        Collaborations
                    </a>
                    <a href="#" class="nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924-1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37.996.608 2.296.376 2.572-1.065z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        Settings
                    </a>
                </nav>
            </aside>

            <section class="main-dashboard-content">
                <div class="welcome-card card">
                    <h2 class="welcome-text">
                        Welcome, Dr. <%= user.name || 'Researcher' %>!
                    </h2>
                    <p class="welcome-subtext">Manage your research, publications, and collaborations.</p>
                    <div class="welcome-overlay-1"></div>
                    <div class="welcome-overlay-2"></div>
                </div>

                <div class="profile-photo-section card">
                    <h3 class="section-title">Your Profile Photo</h3>
                    <div class="profile-photo-wrapper">
                        <img id="profilePhoto" src="<%= user.profilePicture || 'https://placehold.co/160x160/cbd5e1/4b5563?text=Profile' %>" alt="Doctor's Profile" class="profile-photo">
                        <button id="changePhotoBtn" class="change-photo-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.218A2 2 0 0110.125 3h3.75a2 2 0 011.664.89l.812 1.218A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                        </button>
                        <input type="file" id="photoUpload" accept="image/*" class="hidden">
                    </div>
                    <label for="photoUpload" class="upload-photo-label">Upload New Photo</label>
                </div>

                <div class="user-info-section card">
                    <h3 class="section-title">Your Information</h3>
                    <div class="info-card-grid">
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            <div>
                                <p class="info-label">Email:</p>
                                <p id="userEmail" class="info-value"><%= user.email %></p>
                            </div>
                        </div>
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2H5a2 2 0 01-2-2V5z" />
                            </svg>
                            <div>
                                <p class="info-label">Contact:</p>
                                <p id="userContact" class="info-value"><%= user.contact || 'N/A' %></p>
                            </div>
                        </div>
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            <div>
                                <p class="info-label">Date of Birth:</p>
                                <p id="userDob" class="info-value"><%= user.Dob || 'N/A' %></p>
                            </div>
                        </div>
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                            </svg>
                            <div>
                                <p class="info-label">License Number:</p>
                                <p id="userLicenseNumber" class="info-value"><%= user.licenseNumber || 'N/A' %></p>
                            </div>
                        </div>
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M7 12l3-3m0 0l3 3m-3-3v8m0-9a9 9 0 110 18 9 9 0 010-18z" />
                            </svg>
                            <div>
                                <p class="info-label">Specialization:</p>
                                <p id="userSpecialization" class="info-value"><%= user.specialization || 'N/A' %></p>
                            </div>
                        </div>
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <div>
                                <p class="info-label">Years of Experience:</p>
                                <p id="userYearsOfExperience" class="info-value"><%= user.yearsOfExperience || 'N/A' %></p>
                            </div>
                        </div>
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                            </svg>
                            <div>
                                <p class="info-label">Affiliation:</p>
                                <p id="userAffiliation" class="info-value"><%= user.affiliation || 'N/A' %></p>
                            </div>
                        </div>
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.727A8 8 0 0120 18a8 8 0 01-8-8H8a8 8 0 01-8-8 8 8 0 018-8h2.172a2 2 0 001.414-.586l7.766-7.766z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 11h.01" />
                            </svg>
                            <div>
                                <p class="info-label">State:</p>
                                <p id="userState" class="info-value"><%= user.state || 'N/A' %></p>
                            </div>
                        </div>
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.727A8 8 0 0120 18a8 8 0 01-8-8H8a8 8 0 01-8-8 8 8 0 018-8h2.172a2 2 0 001.414-.586l7.766-7.766z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 11h.01" />
                            </svg>
                            <div>
                                <p class="info-label">District:</p>
                                <p id="userDistrict" class="info-value"><%= user.district || 'N/A' %></p>
                            </div>
                        </div>
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.727A8 8 0 0120 18a8 8 0 01-8-8H8a8 8 0 01-8-8 8 8 0 018-8h2.172a2 2 0 001.414-.586l7.766-7.766z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 11h.01" />
                            </svg>
                            <div>
                                <p class="info-label">City:</p>
                                <p id="userCity" class="info-value"><%= user.city || 'N/A' %></p>
                            </div>
                        </div>
                        <div class="info-card">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 info-card-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                            </svg>
                            <div>
                                <p class="info-label">Research Interests:</p>
                                <p id="userResearchInterests" class="info-value"><%= user.researchInterests || 'N/A' %></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stats-card card">
                        <p class="stats-label">Published Papers</p>
                        <p id="publishedPapers" class="stats-number">
                            <%= user.publishedPapers || 0 %>
                        </p>
                    </div>
                    <div class="stats-card card">
                        <p class="stats-label">Total Citations</p>
                        <p id="totalCitations" class="stats-number">
                            <%= user.totalCitations || 0 %>
                        </p>
                    </div>
                    <div class="stats-card card">
                        <p class="stats-label">Active Collaborations</p>
                        <p id="activeCollaborations" class="stats-number">
                            <%= user.activeCollaborations || 0 %>
                        </p>
                    </div>
                </div>

                <div class="quick-actions-section card">
                    <h3 class="section-title">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 icon-margin" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                        Quick Research Actions
                    </h3>
                    <div class="quick-actions-grid">
                        <button class="action-button primary-button">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 icon-margin" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                            </svg>
                            Submit New Paper
                        </button>
                        <button class="action-button secondary-button">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 icon-margin" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                            </svg>
                            Browse Journals
                        </button>
                        <button class="action-button accent-button">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 icon-margin" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M15 15l-3 3m0 0l-3-3m3 3V7" />
                            </svg>
                            Manage Citations
                        </button>
                        <button class="action-button warning-button">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 icon-margin" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M15 17h5l-1.405-1.405A2.032 2032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                            </svg>
                            View Alerts
                        </button>
                    </div>
                </div>

                <div class="recent-activity-section card">
                    <h3 class="section-title">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 icon-margin" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        Recent Research Activity
                    </h3>
                    <p class="activity-message">No new research activity to display currently.</p>
                    <a href="#" class="view-all-link">
                        View All Research Activity
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                        </svg>
                    </a>
                </div>
            </section>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2025 DocConnect. All rights reserved.</p>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const profileDropdownToggle = document.getElementById('profileDropdownToggle');
            const profileDropdownMenu = document.getElementById('profileDropdownMenu');
            const profileImgContainer = document.querySelector('.profile-img-container');

            if (profileDropdownToggle && profileDropdownMenu && profileImgContainer) {
                profileDropdownToggle.addEventListener('click', (event) => {
                    event.stopPropagation();
                    profileDropdownMenu.classList.toggle('show');
                });

                window.addEventListener('click', (event) => {
                    if (!profileDropdownToggle.contains(event.target) && !profileDropdownMenu.contains(event.target)) {
                        profileDropdownMenu.classList.remove('show');
                    }
                });
            }

            const logoutButton = document.getElementById('logoutButton');
            if (logoutButton) {
                logoutButton.addEventListener('click', (event) => {
                    event.preventDefault();
                    alert('Logging out...');
                });
            }

            const changePhotoBtn = document.getElementById('changePhotoBtn');
            const photoUploadInput = document.getElementById('photoUpload');
            const profilePhoto = document.getElementById('profilePhoto');

            if (changePhotoBtn && photoUploadInput && profilePhoto) {
                changePhotoBtn.addEventListener('click', () => {
                    photoUploadInput.click();
                });

                photoUploadInput.addEventListener('change', (event) => {
                    const file = event.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            profilePhoto.src = e.target.result;
                            alert('Profile photo updated locally. In a real app, this would be uploaded to the server.');
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
        });
    </script>
</body>
</html>